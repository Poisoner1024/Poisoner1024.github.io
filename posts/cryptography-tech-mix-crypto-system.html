<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>毒师1024的处方 | 密码技术 - 混合密码系统</title>
  <meta name="description" content="用对称密码提高速度，用公钥密码保护会话密钥">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="密码技术 - 混合密码系统">
  <meta property="og:type" content="website">
  <meta property="og:url" content="/posts/cryptography-tech-mix-crypto-system">
  <meta property="og:description" content="用对称密码提高速度，用公钥密码保护会话密钥">
  <meta property="og:site_name" content="毒师1024的处方">
  <meta property="og:image" content="/assets/og-image.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="/posts/cryptography-tech-mix-crypto-system">
  <meta name="twitter:title" content="密码技术 - 混合密码系统">
  <meta name="twitter:description" content="用对称密码提高速度，用公钥密码保护会话密钥">
  <meta name="twitter:image" content="/assets/og-image.jpg">
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="/feed.xml" type="application/rss+xml" rel="alternate" title="毒师1024的处方 Last 10 blog posts" />
  
    <link type="text/css" rel="stylesheet" href="/assets/light.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="毒师1024的处方">毒师1024的处方</a>
  <ul class="header-links">
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>密码技术 - 混合密码系统</h1>
            <p>用对称密码提高速度，用公钥密码保护会话密钥</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                May 27, 2017
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  1 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/security">security</a>
                
                  <a href="/tag/cryptography">cryptography</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <ul id="markdown-toc">
  <li><a href="#1-混合动力汽车" id="markdown-toc-1-混合动力汽车">1. 混合动力汽车</a></li>
  <li><a href="#2-混合密码系统" id="markdown-toc-2-混合密码系统">2. 混合密码系统</a>    <ul>
      <li><a href="#21-对称密码与公钥密码" id="markdown-toc-21-对称密码与公钥密码">2.1 对称密码与公钥密码</a></li>
      <li><a href="#22-混合密码系统" id="markdown-toc-22-混合密码系统">2.2 混合密码系统</a></li>
      <li><a href="#23-加密" id="markdown-toc-23-加密">2.3 加密</a></li>
      <li><a href="#24-解密" id="markdown-toc-24-解密">2.4 解密</a></li>
      <li><a href="#25-混合密码系统的实践" id="markdown-toc-25-混合密码系统的实践">2.5 混合密码系统的实践</a></li>
    </ul>
  </li>
  <li><a href="#3-怎样才是高强度的混合密码系统" id="markdown-toc-3-怎样才是高强度的混合密码系统">3. 怎样才是高强度的混合密码系统</a>    <ul>
      <li><a href="#31-伪随机数生成器" id="markdown-toc-31-伪随机数生成器">3.1 伪随机数生成器</a></li>
      <li><a href="#32-对称密码" id="markdown-toc-32-对称密码">3.2 对称密码</a></li>
      <li><a href="#33-公钥密码" id="markdown-toc-33-公钥密码">3.3 公钥密码</a></li>
      <li><a href="#34-密钥长度的平衡" id="markdown-toc-34-密钥长度的平衡">3.4 密钥长度的平衡</a></li>
    </ul>
  </li>
  <li><a href="#4-密码技术的组合" id="markdown-toc-4-密码技术的组合">4. 密码技术的组合</a></li>
</ul>

<h2 id="1-混合动力汽车">1. 混合动力汽车</h2>
<p>混合动力汽车同时装备了电动机和发动机两种动力系统。</p>

<p>电动机由电池驱动，发动机由汽油驱动。当速度较慢时，汽车由电动机驱动，能够安静的行驶。当速度加快时，动力切换到发动机，以便输出更强大的动力。当踩下刹车时，损失的能量中的一部分能够被回收并用来对电池进行充电。</p>

<p>混合动力汽车将电动机和发动机两种不同的动力融合在一起，从而发挥了两种动力各自的优势。</p>

<h2 id="2-混合密码系统">2. 混合密码系统</h2>
<p>混合密码系统用对称密码来加密明文，用公钥密码来加密对称密码中所使用的密钥。通过使用混合密码系统，就能够在通信中将对称密码和公钥密码的优势结合起来。</p>

<h3 id="21-对称密码与公钥密码">2.1 对称密码与公钥密码</h3>
<p>对称密码确保通信中的机密性，公钥密码解决对称密码的密钥传输问题。但公钥密码有两个很大的问题：</p>
<ol>
  <li>处理速度远远低于对称密码；</li>
  <li>难以抵御中间人攻击。</li>
</ol>

<p>这里介绍的混合密码系统就是解决上述的问题1的方法。而要解决问题2，则需要对公钥进行认证。暂时不表🙄。</p>

<h3 id="22-混合密码系统">2.2 混合密码系统</h3>
<p>混合密码系统的组成机制：</p>
<ul>
  <li>用对称密码加密消息</li>
  <li>通过伪随机数生成器生成对称密码加密中使用的会话密钥</li>
  <li>用公钥密码加密会话密钥</li>
  <li>从混合密码系统外部赋予公钥密码加密时使用的密钥</li>
</ul>

<h3 id="23-加密">2.3 加密</h3>
<p><a href="/assets/documentation/cryptography/mix-crypto-sys-encryption.png" class="fluidbox-trigger">
  <img src="/assets/documentation/cryptography/mix-crypto-sys-encryption.png" alt="mix-crypto-sys-encryption" />
</a></p>

<h3 id="24-解密">2.4 解密</h3>
<p><a href="/assets/documentation/cryptography/mix-crypto-sys-decryption.png" class="fluidbox-trigger">
  <img src="/assets/documentation/cryptography/mix-crypto-sys-decryption.png" alt="mix-crypto-sys-decryption" />
</a></p>

<h3 id="25-混合密码系统的实践">2.5 混合密码系统的实践</h3>
<p>混合密码系统解决了公钥密码速度慢的问题，并通过公钥密码解决了对称密码的密钥配送问题。</p>

<p>著名的密码软件PGP、以及网络上的密码通信所使用的SSL/TLS都运用了混合密码系统。PGP的处理除了混合密码系统之外，还包括数字签名、数字签名认证以及私钥管理等处理。</p>

<h2 id="3-怎样才是高强度的混合密码系统">3. 怎样才是高强度的混合密码系统</h2>
<p>混合密码系统运用了伪随机数生成器、对称密码和公钥密码，因此其中每一种技术要素的强度都必须很高。然后实际上还不仅如此，这些技术要素之间的强度平衡也非常重要。</p>

<h3 id="31-伪随机数生成器">3.1 伪随机数生成器</h3>
<p>混合密码系统中，伪随机数生成器被用来产生会话密钥。如果伪随机数生成器的算法很差，生成的会话密钥很容易被攻击者推测出来。这样的话，会话密钥的密钥控件不大，很容易通过暴力破解来发动攻击。</p>

<h3 id="32-对称密码">3.2 对称密码</h3>
<p>需要使用高强度的对称密码算法，并确保密钥具有足够的长度。此外，还需要选择使用合适的分组密码模式。</p>

<h3 id="33-公钥密码">3.3 公钥密码</h3>
<p>需要使用高强度的公钥密码算法，并确保密钥有足够的长度。</p>

<h3 id="34-密钥长度的平衡">3.4 密钥长度的平衡</h3>
<p>混合密码系统中运用了对称密码和公钥密码两种密码方式，无论其中任何一方的密钥过短，都可能遭到集中攻击，因此对称密码和公钥密码的密钥长度必须具备同等的强度。</p>

<p>然而，考虑到长期运用的情况，公钥密码的强度应该要高于对称密码，因为对称密码的会话密钥被破译只会影响本次通信的内容，而公钥密码一旦被破译，从过去到未来的所有通信内容就都能够被破译了。</p>

<h2 id="4-密码技术的组合">4. 密码技术的组合</h2>
<p><strong>混合密码系统</strong>是将对称密码与公钥密码相结合，从而构建出一种同时发挥两者优势的系统。</p>

<p><strong>分组密码模式</strong>，是将只能加密固定长度的数据的分组密码进行组合，从而使其能够对更长的明文进行加密的方法。通过采用不同的分组密码组合方式，可以构建出各种具有不同特点的分组密码模式。</p>

<p><strong>三重DES</strong>，是将3个DES组合在一起，从而形成一种密钥比DES更长的对称密码。通过加密 - 解密 - 加密这样的连接方式 ，不但可以维持和DES的兼容性，同时还能够选择性的使用DES-EDE2这种密钥长度较短的密码。</p>

<p><strong>数字签名</strong>，是由单向散列函数和公钥密码组合而成的。</p>

<p><strong>证书</strong>，是由公钥和数字签名组合而成的。</p>

<p><strong>消息认证码</strong>，是由单向散列函数和密钥组合而成的，也可以通过对称密码来生成。</p>

<p><strong>伪随机数生成器</strong>，可以使用对称密码、单向散列函数或者公钥密码来构建。</p>


          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=密码技术 - 混合密码系统 - /posts/cryptography-tech-mix-crypto-system ', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=/posts/cryptography-tech-mix-crypto-system', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=/posts/cryptography-tech-mix-crypto-system', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          
        </article>
        <footer class="footer reveal">
  <p>
    一个软件工程师的自述，希望将来这些文章能够帮助后来的人少走一些弯路，早日能到达理想的彼岸,
    <a href="https://github.com/poisoner1024" title="About me">我是毒师，编号1024</a>。
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


</body>
</html>
